<!DOCTYPE html>
<html lang="en">
   <!-- https://www.pytorials.com/deploy-keras-model-to-production-using-flask/ -->
   <head>
      <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
      <meta name="description" content="">
      <meta name="author" content="">
      <title>MNIST Handwritten text recognition using keras</title>
      <link rel="stylesheet" href="{{ url_for('static',filename='style.css') }}">
   </head>
   <body>
      <div>
         <h3>Emerging Technology Project</h3>
      </div>
      <div>
         <h3>Draw the digit inside this Box!</h3>
         <canvas id="canvas" width="280" height="280" style ="border:10px solid;
            float: left; margin: 90px; margin-top:160px; border-radius:7px; cursor:crosshair">
         </canvas>
         <div id="debug" style="margin:50px; margin-top:100px;">
            <input type="button" id="clearButton" value="Clear">
            </br>
            <span style="color: blue; font-weight: 390;">Draw inside this box</span> 
         </div>
         <div style="margin-left:175px; margin-top: 460px; float: left; position: absolute; ">
            <a href="#" class="myButton"><span style="font-weight: 400; font-family: 'Open Sans', Helvitica; ">
            Predict </span></a>
         </div>
      </div>
      <!-- container -->
      <script src='http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>
	  <script src="{{ url_for('static',filename='index.js') }}"></script>
      <script type="text/javascript">
         $(".myButton").click(function(){
           var $SCRIPT_ROOT = {{ request.script_root|tojson|safe }};
           var canvasObj = document.getElementById("canvas");
           var img = canvasObj.toDataURL();
           $.ajax({
             type: "POST",
             url: $SCRIPT_ROOT + "/predict/",
             data: img,
             success: function(data){
               $('#result').text(' Predicted Output: '+data);
             }
           });
         });
         
          
      </script>
   </body>
</html>